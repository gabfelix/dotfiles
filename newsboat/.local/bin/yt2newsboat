#!/bin/sh

# Add youtube channel RSS feed to newsboat

url="$1"

channel_id="$(yt-dlp --print channel_url --playlist-items 1 "$url" | sed 's/https\:\/\/www\.youtube\.com\/channel\///')"
output="https://www.youtube.com/feeds/videos.xml?channel_id=${channel_id} \"youtube\"" 
printf "Appending\n$output\nto newsboat urls file\n" # Output to user
echo "$output" >> ${XDG_CONFIG_HOME:-$HOME/.config}/newsboat/urls
