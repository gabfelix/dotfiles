#!/bin/sh

wmpid(){ # This function is needed if there are multiple instances of the window manager.
	tree="$(pstree -ps $$)"
	tree="${tree#*sway(}"
	echo "${tree%%)*}"
}

reboot='ğŸ”ƒ reboot'
shutdown='ğŸ–¥ï¸shutdown'
hibernate='ğŸ›Œhibernate'
suspend='ğŸ›‘suspend'

case "$(printf "${reboot}\n${hibernate}\n${shutdown}\n${suspend}\n" | rofi -dmenu -i -l 4 -p 'Action: ')" in
	$reboot) systemctl reboot -i ;;
	$hibernate) systemctl hibernate -i ;;
	$shutdown) systemctl poweroff -i ;;
	$suspend) systemctl suspend -i ;;
	*) exit 1 ;;
esac
